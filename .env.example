# =============================================================================
# SharePoint RAG Importer - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Microsoft Azure AD (Required)
# -----------------------------------------------------------------------------
# Create an App Registration at https://portal.azure.com
# Required API Permissions:
#   - Microsoft Graph > Files.Read.All
#   - Microsoft Graph > Sites.Read.All
#   - Microsoft Graph > User.Read (optional)
# -----------------------------------------------------------------------------
MICROSOFT_TENANT_ID=your-tenant-id-here
MICROSOFT_CLIENT_ID=your-client-id-here
MICROSOFT_CLIENT_SECRET=your-client-secret-here

# -----------------------------------------------------------------------------
# OpenAI API (Required for Embeddings)
# -----------------------------------------------------------------------------
# Get your API key from https://platform.openai.com/api-keys
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here

# Embedding model (default: text-embedding-3-large)
# Options: text-embedding-3-large, text-embedding-3-small, text-embedding-ada-002
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIMENSIONS=3072

# -----------------------------------------------------------------------------
# Anthropic API (Required for Generation)
# -----------------------------------------------------------------------------
# Get your API key from https://console.anthropic.com/
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# LLM model for generation
LLM_MODEL=claude-3-5-sonnet-20241022

# -----------------------------------------------------------------------------
# Database Configuration (Docker Compose defaults)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://raguser:ragpass@localhost:5432/ragdb

# -----------------------------------------------------------------------------
# Vector Database (Docker Compose defaults)
# -----------------------------------------------------------------------------
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=sharepoint_docs

# -----------------------------------------------------------------------------
# Redis (Docker Compose defaults)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Processing Configuration
# -----------------------------------------------------------------------------
# Chunk size in tokens (default: 512)
CHUNK_SIZE=512

# Overlap between chunks in tokens (default: 50)
CHUNK_OVERLAP=50

# Maximum file size to process in MB (default: 100)
MAX_FILE_SIZE_MB=100

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Debug mode (set to True for development)
DEBUG=False

# -----------------------------------------------------------------------------
# Security Settings (Required)
# -----------------------------------------------------------------------------
# Encryption key for storing secrets (REQUIRED - generate with: openssl rand -base64 32)
SECURITY_KEY=your-base64-encoded-key-here

# CORS - comma-separated list of allowed origins (for frontend access)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# -----------------------------------------------------------------------------
# Email Notifications (Optional)
# -----------------------------------------------------------------------------
# Provider: smtp, sendgrid
EMAIL_PROVIDER=smtp

# SMTP Settings (for Gmail, Outlook, etc.)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# SendGrid (alternative)
# EMAIL_API_KEY=SG.xxx

# Sender info
EMAIL_FROM=noreply@sharepoint-rag.local
EMAIL_FROM_NAME=SharePoint RAG

# Application URL (for links in emails)
APP_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Security (Optional)
# -----------------------------------------------------------------------------
# JWT secret for authentication (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-here

# Session expiration in hours
JWT_EXPIRATION_HOURS=24
